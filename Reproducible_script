### Softwares:

# HISAT2
https://daehwankimlab.github.io/hisat2/manual/

# SRA-Toolkit
https://github.com/ncbi/sra-tools/wiki/01.-Downloading-SRA-Toolkit

# BRAKER3
https://pubmed.ncbi.nlm.nih.gov/37398387/

# Prior data:

1) Genome
2) Transcriptomes

### SRA-Toolkit

# Download SRA-Toolkit from https://github.com/ncbi/sra-tools/wiki/01.-Downloading-SRA-Toolkit

## Install SRA-Tookit

cd path/to/SRA-Toolkit
./vdb-config -i

1) Enable the "Remote Access" option on the Main screen.
2) Proceed to the "Cache" tab. Enable "local file-caching" and set the "Location of user-repository". The repository directory needs to be set to an empty folder. This is the folder where prefetch will deposit the files.
3) Go to your cloud provider tab and accept to "report cloud instance identity".

./fastq-dump --stdout -X 2 SRR390728
curl --output sratoolkit.tar.gz https://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/current/sratoolkit.current-mac64.tar.gz
tar -vxzf sratoolkit.tar.gz
export PATH=$PWD/sratoolkit.3.0.0-mac64/bin:$PATH

## Export SRA transcriptome files

./prefetch -v <accession number>

If files are downloading, "Downloading via HTTPS..." will appear. SRA files should download into ~/cache/sra folder

## Convert SRA files to Fastq (paired)

./fasterq-dump <sra_file.sra> --split-files

Accession_1.fastq and Accession_2.fastq should be outputted. 

### HISAT2

# Download HISAT2 from https://daehwankimlab.github.io/hisat2/download/

## Install HISAT2

cd path/to/HISAT2
conda install -c bioconda hisat2

## Rename transcriptome pairs

read1_1=/path/to/accession_1.fastq
read1_2=/path/to/accession_2.fastq
read2_1=/path/to/accession_1.fastq
read2_2=/path/to/accession_2.fastq
read3_1=/path/to/accession_1.fastq
read3_2=/path/to/accession_2.fastq
read4_1=/path/to/accession_1.fastq
read4_2=/path/to/accession_2.fastq
read5_1=/path/to/accession_1.fastq
read5_2=/path/to/accession_2.fastq
read6_1=/path/to/accession_1.fastq
read6_2=/path/to/accession_2.fastq

## Create genome index

hisat2-build -p 16 -f species_genome.fasta species_genome_index

## Align transcriptome reads to the reference genome

hisat2 -p 16 -x species_genome_index -1 $read1_1,$read2_1,$read3_1,$read4_1,$read5_1,$read6_1 -2 $read1_2,$read2_2,$read3_2,$read4_2,$read5_2,$read6_2 -S mapped_reads.sam

## Convert to bam and sort
samtools view --threads 16 -b mapped_reads.sam | samtools sort -o mapped_reads.bam --threads 20
